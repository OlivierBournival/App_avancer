---
title: TP2
description: Travail 2 - Déploiement et gestion d'images
hide_table_of_contents: true
---

# Travail 2 : gestion des images.

:::note Général

<Row>

<Column>

## Serveur avec gestion des images

Le code du serveur avec stockage des images est fourni [ici](https://github.com/departement-info-cem/KickMyB-Server/tree/main).

Vous pourrez utiliser le code du serveur localement.

</Column>

<Column>

Dans la phase 2, vous intégrerez les images dans votre application au niveau des tâches:

- Dans le détail d'une tâche, on pourra lui associer une image
- Dans la liste d'accueil, on verra une miniature de l'image de la tâche s'il y en a une

</Column>

<Column>

## Repository Git 

(Ces points sont conditionnés à la remise d'un commit toutes les 2 séances de cours.)

Tu utilises le même repo que pour le TP1.

&#8203;<Highlight color="tip">2 points</Highlight> Un minimum de 6 commits de tailles comparables. Tu peux viser un commit par appel au serveur implanté.

Il n'y a pas un commit avec tout dedans et les autres vides. Les commits décrivent l'avancement du projet dans un français correct (passe Word). Ces points sont conditionnés à la remise d'au moins un commit par semaine de cours.

</Column>

</Row>

:::

<Row>

<Column>

## Ajout d'une image

### Interface

Vous ne changerez pas l'écran de création d'une tâche. L'ajout d'une image ne se fait que sur l'écran de détail.

Vous devez ajouter un bouton à votre choix dans l'écran de consultation / détail d'une tâche. On veut que:

- &#8203;<Highlight color="tip">1 point</Highlight> l'appui sur le bouton donne accès aux photos de l'appareil
on ne peut sélectionner qu'une seule image
- &#8203;<Highlight color="tip">1 point</Highlight> cette image est envoyée au serveur et associée à la tâche avec le service web approprié
- &#8203;<Highlight color="tip">1 point</Highlight> l'image est ajoutée dans l'écran de consultation courant
- &#8203;<Highlight color="tip">1 point</Highlight> s'il y avait une image, on la remplace

ATTENTION SI CETTE ETAPE NE MARCHE PAS, VOUS NE POUVEZ PAS FAIRE LA SUITE.

### Accès Réseau

Vous devez charger le détail de la tâche: **`/api/detail/photo/{id}`** GET prend l'id de la tâche et renvoie un [TaskDetailPhotoResponse](https://github.com/departement-info-cem/KickMyB-Library/blob/main/src/main/java/org/kickmyb/transfer/TaskDetailPhotoResponse.java) .

</Column>

<Column>

## Écran d'accueil / liste

### Interface

Vous devez modifier la liste de l'écran d'accueil pour afficher les images pour les tâches qui en ont une.

- &#8203;<Highlight color="tip">2 points</Highlight> La mise en page doit fonctionner bien avec ou sans image
- &#8203;<Highlight color="tip">1 point</Highlight> La taille de l'image téléchargé correspond à la taille affichée
- &#8203;<Highlight color="tip">1 point</Highlight> On a un indicateur graphique que les images chargent si ça prend du temps

### Accès Réseau

**`/api/home/photo`** en GET reçoit une liste de [HomeItemPhotoResponse](https://github.com/departement-info-cem/KickMyB-Library/blob/main/src/main/java/org/kickmyb/transfer/HomeItemPhotoResponse.java).

</Column>

<Column>

## Multilingue

&#8203;<Highlight color="tip">2 points</Highlight> Vous devez coder les langues FR et EN dans vos applications. Tous les éléments de l'interface doivent être traduits (bouton, snackbars, messages etc.).

Vous devez tester le fonctionnement sur IOS et Android.

## Messages d'erreur

&#8203;<Highlight color="tip">3 point</Highlight> Votre application doit afficher des messages d'erreur significatifs. Cela inclut les cas où l'utilisateur donne de mauvaises données (validation), les erreurs d'accès au serveur etc.

## Indicateurs d'attente

&#8203;<Highlight color="tip">2 point</Highlight> Vous devez donner un indicateur visuel quand votre application attend un retour du serveur. Vous devez également vous assurer qu'un utilisateur ne peut pas déclencher plusieurs fois l'action alors qu'elle est encore en cours de traitement.

## Orientations

&#8203;<Highlight color="tip">2 point</Highlight> Votre application doit être fonctionnelle en portrait et en paysage.

</Column>

</Row>

<Row>

<Column></Column>

<Column>

:::info Déploiement PlayStore (BONUS) 

&#8203;<Highlight color="tip">2 points</Highlight> Vous devez déployer votre application sur le PlayStore de Google. Vous ajouterez votre professeurs dans les testeurs de votre canal alpha.

:::

</Column>

<Column></Column>

</Row>

## Fonctionnement global

&#8203;<Highlight color="danger">4 points négatifs</Highlight>Votre application doit fonctionner sans plantage et correctement. Ce pointage fonctionne en négatif. Si l'application fonctionne correctement en tout temps, vous conservez votre note. Dans le cas contraire, vous perdez des points avec un maximum de 4. Essayez votre application sur un téléphone 5 pouces (Pixel 2) en mode portrait.

- plantage de l'application &#8203;<Highlight color="danger">-1 point</Highlight>
- interface illisible &#8203;<Highlight color="danger">-1 point</Highlight>
- information affichée incohérente &#8203;<Highlight color="danger">-1 point</Highlight>
- autre cas ...
